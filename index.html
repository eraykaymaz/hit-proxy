<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hit √úr√ºn Test Aray√ºz√º</title>
<style>
    body { font-family: Arial; background:#f5f5f5; padding:40px; }
    .box { background:white; padding:20px; border-radius:10px;
           box-shadow:0 0 10px rgba(0,0,0,0.1); width:480px; }
    input { width:100%; padding:10px; font-size:16px; margin-bottom:10px; }
    button { padding:10px 15px; font-size:16px; cursor:pointer; width:100%; }
    .label { font-weight:bold; margin-top:10px; }
    img { max-width:100%; border-radius:6px; margin-top:10px; }
    .ok { color:green; font-weight:bold; }
    .no { color:red; font-weight:bold; }
</style>
</head>
<body>

<div class="box">
    <h2>üî• Hit √úr√ºn Test</h2>

    <input id="link" placeholder="√úr√ºn linkini yapƒ±≈ütƒ±rƒ±n">
    <button onclick="kontrol()">Kontrol Et</button>

    <div id="sonuc" style="margin-top:20px;"></div>
</div>

<script>
async function kontrol(){
    const url = document.getElementById("link").value.trim();
    const sonuc = document.getElementById("sonuc");

    if(!url){
        sonuc.innerHTML = "<b style='color:red'>L√ºtfen √ºr√ºn linki girin.</b>";
        return;
    }

    sonuc.innerHTML = "‚è≥ Kontrol ediliyor...";

    const api = "https://yellow-fog-3fba.eray-kaymaz.workers.dev/?url=" 
                + encodeURIComponent(url);

    try {
        const res = await fetch(api);
        const data = await res.json();

        sonuc.innerHTML = `
            <div class='label'>Ba≈ülƒ±k:</div>${data.title}<br>

            <div class='label'>Fiyat:</div>${data.price}<br>

            <div class='label'>Kategori:</div>${data.category}<br>

            <div class='label'>Stok:</div>
                ${data.stock === "VAR" 
                    ? "<span class='ok'>VAR</span>" 
                    : "<span class='no'>YOK</span>"}<br>

            <div class='label'>Resim:</div>
            ${data.image !== "Yok" 
                ? "<img src='"+data.image+"'>" 
                : "<span class='no'>Resim bulunamadƒ±</span>"}
        `;
    } 
    catch (e) {
        sonuc.innerHTML = "<b style='color:red'>Hata: </b>" + e.message;
    }
}
</script>

</body>
</html>
