<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hit Generator Mini</title>
<style>
body {
  background:#0f1115; color:#fff; font-family:Arial; padding:20px;
}
h2 { color:#e83c5f; text-align:center; }
.table { width:100%; border-collapse:collapse; margin-bottom:15px; }
.table th, .table td {
  padding:8px; border-bottom:1px solid #333;
}
input[type=text] {
  width:100%; padding:6px; border-radius:6px; border:none; background:#1b1e25; color:#fff;
}
button {
  background:#e83c5f; border:none; padding:10px 16px; border-radius:6px;
  cursor:pointer; color:#fff; font-weight:bold;
}
.product-box {
  display:flex; align-items:center; gap:10px; background:#1b1e25;
  padding:10px; border-radius:8px; margin-top:5px;
}
.product-box img {
  width:70px; height:70px; object-fit:contain; background:#000; border-radius:4px;
}
.result-area {
  background:#111317; padding:10px; border-radius:8px; margin-top:10px;
  font-family:monospace; color:#00ff9c; white-space:pre-wrap;
}
</style>
</head>
<body>

<h2>ðŸ”¥ Hit Generator Mini (5 SatÄ±r)</h2>

<table class="table">
  <tr><th>ÃœrÃ¼n Linki</th></tr>

  <tr><td><input type="text" class="link-input" placeholder="https://..."></td></tr>
  <tr><td><input type="text" class="link-input" placeholder="https://..."></td></tr>
  <tr><td><input type="text" class="link-input" placeholder="https://..."></td></tr>
  <tr><td><input type="text" class="link-input" placeholder="https://..."></td></tr>
  <tr><td><input type="text" class="link-input" placeholder="https://..."></td></tr>
</table>

<button onclick="generate()">Kontrol Et</button>

<div id="results"></div>

<script>
async function fetchData(url){
  try {
    const api = "https://yellow-fog-3fba.eray-kaymaz.workers.dev/?url=" + encodeURIComponent(url);
    const res = await fetch(api);
    return await res.json();
  } catch {
    return { error:true };
  }
}

async function generate() {
  const inputs = document.querySelectorAll(".link-input");
  const results = document.getElementById("results");
  results.innerHTML = "";

  for (let i = 0; i < inputs.length; i++) {
    const link = inputs[i].value.trim();
    if (!link) continue;

    let data = await fetchData(link);

    let html = `
      <div class="product-box">
        <img src="${data.image !== 'Yok' ? data.image : ''}" alt="">
        <div>
          <div><b>${data.title}</b></div>
          <div>Fiyat: ${data.price}</div>
          <div>Kategori: ${data.category}</div>
          <div>Stok: ${data.stock}</div>
        </div>
      </div>
      <div class="result-area">
${JSON.stringify(data, null, 2)}
      </div>
    `;
    results.innerHTML += html;
  }
}
</script>

</body>
</html>
